!function(){"use strict";function e(e,t){e.otherwise("/"),t.html5Mode({enabled:!0,requireBase:!0}),t.hashPrefix("!")}function t(){FastClick.attach(document.body)}function n(e,t,n,o,r){e.id=t.params.id||"",e.page=t.params.p||1;var a="http://swapi.co/api/"+o+"/"+e.id+"?page="+e.page,i={cache:!0};return window.location.hostname.match("aerobaticapp")&&(i={params:{url:a,cache:1,ttl:3e4}},a="/proxy"),1==e.page?""!=e.id?n.get(a,i).success(function(t){t.homeworld&&(t.homeworld=[t.homeworld]),e[r]=t;var o=t.name;"film"==r&&(o=t.title),window.location.hostname.match("aerobaticapp")&&(googleParams={params:{url:googleUrl,cache:1,ttl:3e5}},googleUrl="/proxy"),n.get(googleUrl,googleParams).then(function(t){e.imageUrl=t.data.items[0].pagemap.cse_image[0].src},function(t){e.imageUrl="Unknown"})}):n.get(a,i).success(function(t){e[o]=t,t.next&&(e.nextPage=2)}):(n.get(a,i).success(function(t){e[o]=t,t.next&&(e.nextPage=1*e.page+1)}),e.prevPage=1*e.page-1),e}angular.module("application",["ui.router","ngAnimate","foundation","foundation.dynamicRouting","foundation.dynamicRouting.animations"]).controller("FilmsCtrl",function(e,t,o){e=n(e,t,o,"films","film")}).controller("SpeciesCtrl",function(e,t,o){e=n(e,t,o,"species","specie")}).controller("PlanetsCtrl",function(e,t,o){e=n(e,t,o,"planets","planet")}).controller("PeopleCtrl",function(e,t,o){e=n(e,t,o,"people","person")}).controller("StarshipsCtrl",function(e,t,o){e=n(e,t,o,"starships","starship")}).controller("VehiclesCtrl",function(e,t,o){e=n(e,t,o,"vehicles","vehicle")}).directive("getProp",["$http","$filter",function(e,t){return{template:"{{property}}",scope:{prop:"=",url:"="},link:function(n,o,r){var a=n.url,i={cache:!0};window.location.hostname.match("aerobaticapp")&&(i={params:{url:a,cache:1,ttl:3e4}},a="/proxy");var c=t("capitalize");e.get(a,i).then(function(e){n.property=c(e.data[n.prop])},function(e){n.property="Unknown"})}}}]).filter("capitalize",function(){return function(e){return e?e.replace(/([^\W_]+[^\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)}):""}}).filter("lastdir",function(){return function(e){return e?e.split("/").slice(-2,-1)[0]:""}}).config(e).run(t),e.$inject=["$urlRouterProvider","$locationProvider"]}();